<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>碧蓝幻想翻译</title>
    <link rel="stylesheet" href="../node_modules/element-ui/lib/theme-chalk/index.css">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #app {
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      #app .ver {
        position: absolute;
        right: 10px;
        bottom: 6px;
        font-size: 12px;
        color: #3688dc;
      }
      #app .update {
        position: absolute;
        left: 10px;
        bottom: 6px;
        font-size: 12px;
        color: #409eff;
      }
      #app .update i {
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
      <div id="app">
        <div v-if="!started">
          <el-button icon="el-icon-sort" plain type="primary" @click="startProxy">{{uiText.btnStart[lang]}}</el-button>
          <el-button icon="el-icon-edit" plain type="primary" @click="openConfigWin">{{uiText.btnConfig[lang]}}</el-button>
          <span class="ver">v{{version}}</span>
        </div>
        <div v-else>
          <h3>{{uiText.startTitle[lang]}}</h3>
          <el-dropdown @command="openWhat" size="small" :split-button="true" @click="openCsvFolder">
            {{uiText.btnData[lang]}}
            <el-dropdown-menu slot="dropdown">
              <el-dropdown-item command="static">{{uiText.btnStatic[lang]}}</el-dropdown-item>
            </el-dropdown-menu>
          </el-dropdown>
          <el-dropdown style="margin-left:8px" type="primary" @command="clearWhat" size="small" :split-button="true" @click="openGameWin">
            <i class="el-icon-mobile-phone"></i>
            {{uiText.btnGame[lang]}}
            <el-dropdown-menu slot="dropdown">
              <el-dropdown-item command="cookie">{{uiText.btnCookie[lang]}}</el-dropdown-item>
              <el-dropdown-item command="cache">{{uiText.btnCache[lang]}}</el-dropdown-item>
            </el-dropdown-menu>
          </el-dropdown>
          <p>代理地址：<br>127.0.0.1:{{port}}（本机访问）
            <br>{{ip}}:{{port}}（局域网其它设备）</p>
          <p>查看代理监控：<a href="#" @click="openProxyWeb">http://localhost:{{webPort}}</a></p>
        </div>
        <span class="update" v-if="downloading"><i class="el-icon-loading"></i>{{uiText.loadData[lang]}}</span>
      </div>
    <script>
    const Vue = require('vue/dist/vue')
    window.Vue = Vue
    require('./index.js')
    </script>
  </body>
</html>
